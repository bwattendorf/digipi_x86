sudo apt-get install novnc -y
sudo apt-get install tightvncserver -y

### install apache and php maybe same we install for cloudlog

sudo apt-get install build-essential cmake git libjson-c-dev libwebsockets-dev -y
if ! hash php7.4 2>/dev/null; then
		sudo apt install -y php7.4
	fi

git clone https://github.com/tsl0922/ttyd.git
cd ttyd && mkdir build && cd build
sudo cmake ..
sudo make && make install

## remove ttyd folder in 

#sudo mkdir /var/www/html/digipi

sudo rm /var/www/html/index.html

sudo cp -rv /home/pi/digipi/etc/* /etc/

sudo cp -rv /home/pi/digipi/usr/* /usr/

sudo cp -rv /home/pi/digipi/home/* /home/

sudo cp -rv /home/pi/digipi/var/www/html/* /var/www/html/


#https://raspberrypi.stackexchange.com/questions/44812/shell-exec-is-not-working

#modify php.ini in /etc/php/7.4/apache/php.ini     remove all for disable_functions

#install ttyd in /usr/local/bin

#set vnc password
#vncpasswd     set it to test11 

#edit crontab file so the /var/www/html/index does not get changed

#crontab -e 

#copy /etc/rc.local from digipi to buildapi

#do below to get rc.local to start on startup
#systemctl enable rc-local.service
